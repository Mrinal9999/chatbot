const _0x23d1b1=_0x2e7b;(function(_0x35cea9,_0x25cc3f){const _0x2e8025=_0x2e7b,_0x364304=_0x35cea9();while(!![]){try{const _0x9792fb=-parseInt(_0x2e8025(0x178))/0x1+parseInt(_0x2e8025(0x185))/0x2+-parseInt(_0x2e8025(0x171))/0x3*(parseInt(_0x2e8025(0x191))/0x4)+-parseInt(_0x2e8025(0x16c))/0x5+-parseInt(_0x2e8025(0x16a))/0x6*(-parseInt(_0x2e8025(0x166))/0x7)+-parseInt(_0x2e8025(0x164))/0x8+-parseInt(_0x2e8025(0x17b))/0x9*(parseInt(_0x2e8025(0x151))/0xa);if(_0x9792fb===_0x25cc3f)break;else _0x364304['push'](_0x364304['shift']());}catch(_0x5b0a49){_0x364304['push'](_0x364304['shift']());}}}(_0x2a31,0x3ece4));function _0x2a31(){const _0x16261a=['toggle','interimResults','message','src','Bot','content','profile-image','replace','trim','length','listening-placeholder','stringify','user-input','createElement','scrollHeight','light','Sorry,\x20I\x20encountered\x20an\x20error.\x20Please\x20try\x20again.','user.jpg','564424wPoLKu','send-button','2829512MysCyY','div','addEventListener','lang','6BoImjy','preventDefault','623755twWxMm','bot-message','parts','user-message','transcript','318ZglIba','results','add','candidates','setAttribute','setItem','continuous','292598PvOYdq','hidden','disabled','538578NSFwFM','en-GB','alt','onend','chatHistory','getItem','value','clear-history','onresult','Failed\x20to\x20generate\x20response','804316TkHZMY','img','forEach','checked','classList','Clear\x20all\x20chat\x20history?','theme','Type\x20your\x20message...','placeholder','Listening.','application/json','error','52vSrBrQ','appendChild','bot.jpg','click','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyCdrIfuGLNbHMq8Vv67TZGeAy37C03rxGM','light-mode','textContent','message-content','text','json','Error:','Enter','User','parse','getElementById','innerHTML','onerror','remove','Listening...','start','push','change','audio-wave','documentElement','10STewAq'];_0x2a31=function(){return _0x16261a;};return _0x2a31();}const chatMessages=document[_0x23d1b1(0x147)]('chat-messages'),userInput=document[_0x23d1b1(0x147)]('user-input'),sendButton=document['getElementById'](_0x23d1b1(0x165));function _0x2e7b(_0xc04905,_0x21b309){const _0x2a3187=_0x2a31();return _0x2e7b=function(_0x2e7b1d,_0x5b036e){_0x2e7b1d=_0x2e7b1d-0x140;let _0x13eacf=_0x2a3187[_0x2e7b1d];return _0x13eacf;},_0x2e7b(_0xc04905,_0x21b309);}let chatHistory=JSON[_0x23d1b1(0x146)](localStorage[_0x23d1b1(0x180)](_0x23d1b1(0x17f)))||[];function loadChatHistory(){const _0x43f10c=_0x23d1b1;chatHistory[_0x43f10c(0x187)](({text:_0x144b4a,isUser:_0x1c9329})=>{const _0x17af57=_0x43f10c,_0x2d8174=document['createElement']('div');_0x2d8174['classList'][_0x17af57(0x173)](_0x17af57(0x154),_0x1c9329?'user-message':_0x17af57(0x16d));const _0x77f09d=document[_0x17af57(0x15f)](_0x17af57(0x186));_0x77f09d[_0x17af57(0x189)][_0x17af57(0x173)]('profile-image'),_0x77f09d[_0x17af57(0x155)]=_0x1c9329?_0x17af57(0x163):_0x17af57(0x193),_0x77f09d[_0x17af57(0x17d)]=_0x1c9329?_0x17af57(0x145):_0x17af57(0x156);const _0x19dc46=document[_0x17af57(0x15f)](_0x17af57(0x167));_0x19dc46[_0x17af57(0x189)][_0x17af57(0x173)](_0x17af57(0x140)),_0x19dc46[_0x17af57(0x197)]=_0x144b4a,_0x2d8174[_0x17af57(0x192)](_0x77f09d),_0x2d8174[_0x17af57(0x192)](_0x19dc46),chatMessages[_0x17af57(0x192)](_0x2d8174);}),chatMessages['scrollTop']=chatMessages['scrollHeight'];}loadChatHistory();async function generateResponse(_0x331a50){const _0x834c9e=_0x23d1b1,_0x3527a4=await fetch(_0x834c9e(0x195),{'method':'POST','headers':{'Content-Type':_0x834c9e(0x18f)},'body':JSON['stringify']({'contents':[{'parts':[{'text':_0x331a50}]}]})});if(!_0x3527a4['ok'])throw new Error(_0x834c9e(0x184));const _0x2f9933=await _0x3527a4[_0x834c9e(0x142)]();return _0x2f9933[_0x834c9e(0x174)][0x0][_0x834c9e(0x157)][_0x834c9e(0x16e)][0x0][_0x834c9e(0x141)];}function cleanMarkdown(_0x296751){const _0x178632=_0x23d1b1;return _0x296751[_0x178632(0x159)](/#{1,6}\s?/g,'')[_0x178632(0x159)](/\*\*/g,'')[_0x178632(0x159)](/\n{3,}/g,'\x0a\x0a')[_0x178632(0x15a)]();}function addMessage(_0x3add10,_0x425ff6){const _0x21b8bd=_0x23d1b1,_0x2af492=document[_0x21b8bd(0x15f)](_0x21b8bd(0x167));_0x2af492['classList'][_0x21b8bd(0x173)]('message',_0x425ff6?_0x21b8bd(0x16f):'bot-message');const _0x4917be=document[_0x21b8bd(0x15f)](_0x21b8bd(0x186));_0x4917be[_0x21b8bd(0x189)][_0x21b8bd(0x173)](_0x21b8bd(0x158)),_0x4917be['src']=_0x425ff6?_0x21b8bd(0x163):'bot.jpg',_0x4917be[_0x21b8bd(0x17d)]=_0x425ff6?_0x21b8bd(0x145):_0x21b8bd(0x156);const _0x243e99=document[_0x21b8bd(0x15f)]('div');_0x243e99['classList'][_0x21b8bd(0x173)](_0x21b8bd(0x140)),_0x243e99['textContent']=_0x3add10,_0x2af492[_0x21b8bd(0x192)](_0x4917be),_0x2af492[_0x21b8bd(0x192)](_0x243e99),chatMessages['appendChild'](_0x2af492),chatMessages['scrollTop']=chatMessages[_0x21b8bd(0x160)],chatHistory[_0x21b8bd(0x14d)]({'text':_0x3add10,'isUser':_0x425ff6}),localStorage[_0x21b8bd(0x176)](_0x21b8bd(0x17f),JSON[_0x21b8bd(0x15d)](chatHistory));}async function handleUserInput(){const _0x559ab2=_0x23d1b1,_0x129551=userInput[_0x559ab2(0x181)][_0x559ab2(0x15a)]();if(_0x129551){addMessage(_0x129551,!![]),userInput[_0x559ab2(0x181)]='',sendButton['disabled']=!![],userInput[_0x559ab2(0x17a)]=!![];try{const _0x2f7b3a=await generateResponse(_0x129551);addMessage(cleanMarkdown(_0x2f7b3a),![]);}catch(_0x3a5916){console[_0x559ab2(0x190)](_0x559ab2(0x143),_0x3a5916),addMessage(_0x559ab2(0x162),![]);}finally{sendButton[_0x559ab2(0x17a)]=![],userInput[_0x559ab2(0x17a)]=![],userInput['focus']();}}}sendButton['addEventListener']('click',handleUserInput),userInput[_0x23d1b1(0x168)]('keypress',_0x3ba65e=>{const _0x3eeebe=_0x23d1b1;_0x3ba65e['key']===_0x3eeebe(0x144)&&!_0x3ba65e['shiftKey']&&(_0x3ba65e[_0x3eeebe(0x16b)](),handleUserInput());});function voice(){const _0x337843=_0x23d1b1,_0x54a460=document[_0x337843(0x147)](_0x337843(0x14f)),_0x101f2f=document[_0x337843(0x147)](_0x337843(0x15e)),_0x1c6497=_0x337843(0x18c),_0xdc2171=['Listening',_0x337843(0x18e),'Listening..',_0x337843(0x14b)];let _0x31b289=null,_0x48af7a=0x0;const _0x37b24f=()=>{const _0x232d52=_0x337843;_0x101f2f['setAttribute']('placeholder',_0xdc2171[0x0]),_0x101f2f['classList']['add'](_0x232d52(0x15c)),_0x31b289=setInterval(()=>{const _0x3f50d5=_0x232d52;_0x48af7a=(_0x48af7a+0x1)%_0xdc2171[_0x3f50d5(0x15b)],_0x101f2f['setAttribute'](_0x3f50d5(0x18d),_0xdc2171[_0x48af7a]);},0x1f4);},_0x55f59f=()=>{const _0xc635ef=_0x337843;clearInterval(_0x31b289),_0x31b289=null,_0x48af7a=0x0,_0x101f2f['classList'][_0xc635ef(0x14a)]('listening-placeholder'),_0x101f2f['setAttribute']('placeholder',''),setTimeout(()=>{const _0x32f41a=_0xc635ef;_0x101f2f[_0x32f41a(0x175)](_0x32f41a(0x18d),_0x1c6497);},0x14);},_0x1c281a=new webkitSpeechRecognition();_0x1c281a[_0x337843(0x169)]=_0x337843(0x17c),_0x1c281a[_0x337843(0x153)]=![],_0x1c281a[_0x337843(0x177)]=![],_0x1c281a['onstart']=function(){const _0x3722f1=_0x337843;_0x37b24f(),_0x54a460[_0x3722f1(0x189)][_0x3722f1(0x14a)](_0x3722f1(0x179));},_0x1c281a[_0x337843(0x183)]=function(_0x1fe1a9){const _0x516edb=_0x337843,_0x5efa4c=_0x1fe1a9[_0x516edb(0x172)][0x0][0x0][_0x516edb(0x170)];_0x101f2f['value']=_0x5efa4c;},_0x1c281a[_0x337843(0x17e)]=function(){const _0x43ee5a=_0x337843;_0x55f59f(),_0x54a460[_0x43ee5a(0x189)]['add'](_0x43ee5a(0x179)),handleUserInput();},_0x1c281a[_0x337843(0x149)]=function(){const _0x33e548=_0x337843;_0x55f59f(),_0x54a460['classList']['add'](_0x33e548(0x179));},_0x1c281a[_0x337843(0x14c)]();}const themeToggle=document[_0x23d1b1(0x147)]('theme-toggle');localStorage[_0x23d1b1(0x180)]('theme')==='light'&&(document['documentElement'][_0x23d1b1(0x189)]['add'](_0x23d1b1(0x196)),themeToggle[_0x23d1b1(0x188)]=!![]),themeToggle[_0x23d1b1(0x168)](_0x23d1b1(0x14e),()=>{const _0x2540cb=_0x23d1b1,_0x3e714e=themeToggle['checked'];document[_0x2540cb(0x150)][_0x2540cb(0x189)][_0x2540cb(0x152)](_0x2540cb(0x196),_0x3e714e),localStorage[_0x2540cb(0x176)](_0x2540cb(0x18b),_0x3e714e?_0x2540cb(0x161):'dark');}),document['getElementById'](_0x23d1b1(0x182))[_0x23d1b1(0x168)](_0x23d1b1(0x194),()=>{const _0x5298dd=_0x23d1b1;confirm(_0x5298dd(0x18a))&&(localStorage['removeItem'](_0x5298dd(0x17f)),chatMessages[_0x5298dd(0x148)]='',chatHistory=[]);});
