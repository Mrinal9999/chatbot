const _0x36748d=_0x5db6;(function(_0x97def9,_0x5bebc1){const _0x1134f8=_0x5db6,_0x423054=_0x97def9();while(!![]){try{const _0x30f117=parseInt(_0x1134f8(0xc1))/0x1*(-parseInt(_0x1134f8(0xc9))/0x2)+parseInt(_0x1134f8(0xb2))/0x3+-parseInt(_0x1134f8(0x90))/0x4+parseInt(_0x1134f8(0xb1))/0x5*(parseInt(_0x1134f8(0xd1))/0x6)+parseInt(_0x1134f8(0xbf))/0x7*(parseInt(_0x1134f8(0xbd))/0x8)+parseInt(_0x1134f8(0x82))/0x9+parseInt(_0x1134f8(0xc8))/0xa;if(_0x30f117===_0x5bebc1)break;else _0x423054['push'](_0x423054['shift']());}catch(_0x1216e2){_0x423054['push'](_0x423054['shift']());}}}(_0xd23d,0x79e46));function _0xd23d(){const _0x191eae=['add','Sorry,\x20I\x20encountered\x20an\x20error.\x20Please\x20try\x20again.','text','classList','placeholder','listening-placeholder','getElementById','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyCdrIfuGLNbHMq8Vv67TZGeAy37C03rxGM','1338291jbGQTf','user-input','theme-toggle','div','hidden','json','textContent','setItem','alt','Failed\x20to\x20generate\x20response','setAttribute','stringify','onstart','user-message','2144608NWIxtA','application/json','bot.jpg','error','clear-history','Listening...','message-content','lang','getItem','light','Listening','profile-image','Clear\x20all\x20chat\x20history?','src','onresult','onend','checked','continuous','results','chat-messages','value','parse','img','Error:','theme','light-mode','replace','stop','candidates','forEach','keypress','scrollHeight','bot-message','10nvLnbk','23388TQHMOx','Enter','trim','Bot','user.jpg','click','send-button','scrollTop','innerHTML','appendChild','removeItem','64NSOUwi','en-GB','345086mqpmYz','documentElement','3IAzHmS','remove','shiftKey','POST','chatHistory','length','dark','6908580xJDmTv','587974PVhzXE','addEventListener','change','disabled','onerror','User','createElement','transcript','2026938whKNON'];_0xd23d=function(){return _0x191eae;};return _0xd23d();}const chatMessages=document[_0x36748d(0x80)](_0x36748d(0xa3)),userInput=document['getElementById'](_0x36748d(0x83)),sendButton=document[_0x36748d(0x80)](_0x36748d(0xb8));let chatHistory=JSON[_0x36748d(0xa5)](localStorage[_0x36748d(0x98)](_0x36748d(0xc5)))||[];function loadChatHistory(){const _0x1d410a=_0x36748d;chatHistory[_0x1d410a(0xad)](({text:_0x4fc536,isUser:_0x39faf6})=>{const _0x10fb8f=_0x1d410a,_0x2699a4=document[_0x10fb8f(0xcf)](_0x10fb8f(0x85));_0x2699a4[_0x10fb8f(0x7d)]['add']('message',_0x39faf6?_0x10fb8f(0x8f):_0x10fb8f(0xb0));const _0x44a957=document[_0x10fb8f(0xcf)](_0x10fb8f(0xa6));_0x44a957['classList']['add']('profile-image'),_0x44a957[_0x10fb8f(0x9d)]=_0x39faf6?_0x10fb8f(0xb6):_0x10fb8f(0x92),_0x44a957['alt']=_0x39faf6?_0x10fb8f(0xce):_0x10fb8f(0xb5);const _0x1b6eb6=document[_0x10fb8f(0xcf)](_0x10fb8f(0x85));_0x1b6eb6[_0x10fb8f(0x7d)][_0x10fb8f(0x7a)]('message-content'),_0x1b6eb6[_0x10fb8f(0x88)]=_0x4fc536,_0x2699a4[_0x10fb8f(0xbb)](_0x44a957),_0x2699a4[_0x10fb8f(0xbb)](_0x1b6eb6),chatMessages[_0x10fb8f(0xbb)](_0x2699a4);}),chatMessages[_0x1d410a(0xb9)]=chatMessages[_0x1d410a(0xaf)];}loadChatHistory();async function generateResponse(_0x46c356){const _0x594c08=_0x36748d,_0x3222eb=await fetch(_0x594c08(0x81),{'method':_0x594c08(0xc4),'headers':{'Content-Type':_0x594c08(0x91)},'body':JSON[_0x594c08(0x8d)]({'contents':[{'parts':[{'text':_0x46c356}]}]})});if(!_0x3222eb['ok'])throw new Error(_0x594c08(0x8b));const _0xc3e21f=await _0x3222eb[_0x594c08(0x87)]();return _0xc3e21f[_0x594c08(0xac)][0x0]['content']['parts'][0x0][_0x594c08(0x7c)];}function cleanMarkdown(_0x58aa97){const _0x292b09=_0x36748d;return _0x58aa97['replace'](/#{1,6}\s?/g,'')[_0x292b09(0xaa)](/\*\*/g,'')['replace'](/\n{3,}/g,'\x0a\x0a')[_0x292b09(0xb4)]();}function _0x5db6(_0x27090a,_0x4b1721){const _0xd23d98=_0xd23d();return _0x5db6=function(_0x5db6ab,_0x3999eb){_0x5db6ab=_0x5db6ab-0x7a;let _0x1e5461=_0xd23d98[_0x5db6ab];return _0x1e5461;},_0x5db6(_0x27090a,_0x4b1721);}function addMessage(_0x1a55c0,_0x3cc9ef){const _0x41f049=_0x36748d,_0x5deaf4=document[_0x41f049(0xcf)](_0x41f049(0x85));_0x5deaf4[_0x41f049(0x7d)][_0x41f049(0x7a)]('message',_0x3cc9ef?_0x41f049(0x8f):_0x41f049(0xb0));const _0x5f4a3d=document['createElement'](_0x41f049(0xa6));_0x5f4a3d['classList'][_0x41f049(0x7a)](_0x41f049(0x9b)),_0x5f4a3d['src']=_0x3cc9ef?_0x41f049(0xb6):_0x41f049(0x92),_0x5f4a3d[_0x41f049(0x8a)]=_0x3cc9ef?'User':_0x41f049(0xb5);const _0x5a7e7a=document[_0x41f049(0xcf)](_0x41f049(0x85));_0x5a7e7a['classList'][_0x41f049(0x7a)](_0x41f049(0x96)),_0x5a7e7a[_0x41f049(0x88)]=_0x1a55c0,_0x5deaf4[_0x41f049(0xbb)](_0x5f4a3d),_0x5deaf4[_0x41f049(0xbb)](_0x5a7e7a),chatMessages[_0x41f049(0xbb)](_0x5deaf4),chatMessages[_0x41f049(0xb9)]=chatMessages[_0x41f049(0xaf)],chatHistory['push']({'text':_0x1a55c0,'isUser':_0x3cc9ef}),localStorage[_0x41f049(0x89)](_0x41f049(0xc5),JSON[_0x41f049(0x8d)](chatHistory));}async function handleUserInput(){const _0x30efa6=_0x36748d,_0x596c45=userInput[_0x30efa6(0xa4)]['trim']();if(_0x596c45){addMessage(_0x596c45,!![]),userInput[_0x30efa6(0xa4)]='',sendButton[_0x30efa6(0xcc)]=!![],userInput[_0x30efa6(0xcc)]=!![];try{const _0x2b21ed=await generateResponse(_0x596c45);addMessage(cleanMarkdown(_0x2b21ed),![]);}catch(_0x2e0dcc){console[_0x30efa6(0x93)](_0x30efa6(0xa7),_0x2e0dcc),addMessage(_0x30efa6(0x7b),![]);}finally{sendButton[_0x30efa6(0xcc)]=![],userInput[_0x30efa6(0xcc)]=![],userInput['focus']();}}}sendButton[_0x36748d(0xca)](_0x36748d(0xb7),handleUserInput),userInput[_0x36748d(0xca)](_0x36748d(0xae),_0xac0b08=>{const _0x5248ba=_0x36748d;_0xac0b08['key']===_0x5248ba(0xb3)&&!_0xac0b08[_0x5248ba(0xc3)]&&(_0xac0b08['preventDefault'](),handleUserInput());});let recognition=null,isListening=![];function voice(){const _0x4d050a=_0x36748d,_0x444994=document[_0x4d050a(0x80)]('audio-wave'),_0x5ca378=document['getElementById'](_0x4d050a(0x83)),_0x35651b='Type\x20your\x20message...',_0x3acb5e=[_0x4d050a(0x9a),'Listening.','Listening..',_0x4d050a(0x95)];let _0x2a61fa=null,_0x24181f=0x0;function _0x554a8a(){const _0x45b63c=_0x4d050a;_0x5ca378[_0x45b63c(0x8c)](_0x45b63c(0x7e),_0x3acb5e[0x0]),_0x5ca378[_0x45b63c(0x7d)][_0x45b63c(0x7a)](_0x45b63c(0x7f)),_0x2a61fa=setInterval(()=>{const _0x28a180=_0x45b63c;_0x24181f=(_0x24181f+0x1)%_0x3acb5e[_0x28a180(0xc6)],_0x5ca378[_0x28a180(0x8c)]('placeholder',_0x3acb5e[_0x24181f]);},0x1f4);}function _0x218e7b(){const _0x577be1=_0x4d050a;clearInterval(_0x2a61fa),_0x2a61fa=null,_0x24181f=0x0,_0x5ca378[_0x577be1(0x7d)][_0x577be1(0xc2)](_0x577be1(0x7f)),_0x5ca378[_0x577be1(0x8c)](_0x577be1(0x7e),_0x35651b);}if(isListening&&recognition){recognition[_0x4d050a(0xab)]();return;}recognition=new webkitSpeechRecognition(),recognition[_0x4d050a(0x97)]=_0x4d050a(0xbe),recognition['interimResults']=![],recognition[_0x4d050a(0xa1)]=![],recognition[_0x4d050a(0x8e)]=()=>{const _0xca514=_0x4d050a;isListening=!![],_0x554a8a(),_0x444994[_0xca514(0x7d)][_0xca514(0xc2)](_0xca514(0x86));},recognition[_0x4d050a(0x9e)]=_0x5af701=>{const _0x430d5f=_0x4d050a,_0x1b7b51=_0x5af701[_0x430d5f(0xa2)][0x0][0x0][_0x430d5f(0xd0)];_0x5ca378[_0x430d5f(0xa4)]=_0x1b7b51;},recognition[_0x4d050a(0x9f)]=()=>{const _0x1898e7=_0x4d050a;isListening&&(isListening=![],_0x218e7b(),_0x444994[_0x1898e7(0x7d)][_0x1898e7(0x7a)](_0x1898e7(0x86)),handleUserInput());},recognition[_0x4d050a(0xcd)]=()=>{const _0x2ee69b=_0x4d050a;isListening=![],_0x218e7b(),_0x444994[_0x2ee69b(0x7d)]['add'](_0x2ee69b(0x86));},recognition['start']();}const themeToggle=document[_0x36748d(0x80)](_0x36748d(0x84));localStorage['getItem'](_0x36748d(0xa8))==='light'&&(document['documentElement'][_0x36748d(0x7d)]['add'](_0x36748d(0xa9)),themeToggle[_0x36748d(0xa0)]=!![]),themeToggle[_0x36748d(0xca)](_0x36748d(0xcb),()=>{const _0x5af959=_0x36748d,_0x32b450=themeToggle['checked'];document[_0x5af959(0xc0)]['classList']['toggle'](_0x5af959(0xa9),_0x32b450),localStorage[_0x5af959(0x89)](_0x5af959(0xa8),_0x32b450?_0x5af959(0x99):_0x5af959(0xc7));}),document['getElementById'](_0x36748d(0x94))[_0x36748d(0xca)](_0x36748d(0xb7),()=>{const _0x25e016=_0x36748d;confirm(_0x25e016(0x9c))&&(localStorage[_0x25e016(0xbc)](_0x25e016(0xc5)),chatMessages[_0x25e016(0xba)]='',chatHistory=[]);});
